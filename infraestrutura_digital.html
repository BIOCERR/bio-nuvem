<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Infraestrutura Digital</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    /* --- Estilos base (mantive seu visual) --- */
    body {
      margin: 0;
      padding: 40px;
      background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
      color: white;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
    }

    .top-bar {
      position: absolute;
      top: 20px;
      left: 20px;
      z-index: 10;
    }

    .top-bar a {
      text-decoration: none;
      color: #74f2ce;
      font-weight: bold;
      font-size: 1em;
      border: 1px solid #74f2ce;
      padding: 8px 15px;
      border-radius: 20px;
      transition: all 0.3s ease;
      background: rgba(0,0,0,0.35);
    }

    .top-bar a:hover {
      background: rgba(116, 242, 206, 0.12);
      box-shadow: 0 0 10px #74f2ce;
    }

    h1 {
      text-align: center;
      font-size: 3em;
      text-shadow: 0 0 15px #74f2ce, 0 0 25px #74f2ce;
      filter: drop-shadow(0 0 5px #2de0c1);
      margin-bottom: 40px;
    }

    .content {
      max-width: 1000px;
      margin: 0 auto;
      font-size: 1.15em;
      text-align: justify;
    }

    .image-container {
      text-align: center;
      margin: 40px 0;
    }

    .image-container img {
      width: 35%;
      max-width: 420px;
      border: 2px solid #74f2ce;
      border-radius: 10px;
      box-shadow: 0 0 15px #2de0c1;
    }

    .mist {
      position: fixed;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(116, 242, 206, 0.05) 0%, transparent 70%);
      filter: blur(25px);
      pointer-events: none;
      z-index: -1;
    }

    .tech-modules {
      margin: 60px auto;
      max-width: 900px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .tech-card {
      background-color: rgba(116, 242, 206, 0.08);
      border: 1px solid #74f2ce;
      border-radius: 12px;
      padding: 20px 30px;
      cursor: pointer;
      font-size: 1.05em;
      color: #74f2ce;
      text-align: center;
      box-shadow: 0 0 12px rgba(45, 224, 193, 0.12);
      transition: all 0.25s ease;
      min-width: 220px;
    }

    .tech-card:hover {
      background-color: rgba(116, 242, 206, 0.16);
      box-shadow: 0 0 18px #2de0c1;
    }

    .box-hidden {
      display: none;
      margin-top: 10px;
      margin-bottom: 40px;
      background-color: rgba(255,255,255,0.04);
      padding: 20px;
      border-radius: 10px;
      border-left: 3px solid #74f2ce;
      color: #ddd;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
      text-align: justify;
    }

    .box-hidden p, .box-hidden ul { color: #e6f7f1; }

    .link-pdf {
      color: #74f2ce;
      font-weight: bold;
      text-decoration: none;
      display: inline-block;
      margin-top: 10px;
    }

    .link-pdf:hover {
      text-decoration: underline;
    }

    /* --- Estilos do gr√°fico (vis-network) --- */
    .graph-wrapper {
      max-width: 1000px;
      margin: 24px auto 10px auto;
      padding: 14px;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(116,242,206,0.06);
      box-shadow: 0 6px 20px rgba(0,0,0,0.6);
    }

    #network {
      width: 100%;
      height: 390px; /* 25% menor que 520px */
      background: transparent; /* para herdar o fundo escuro */
      border-radius: 8px;
    }

    /* Instru√ß√µes de uso do gr√°fico */
    .graph-instructions {
      margin-top: 10px;
      font-size: 0.95em;
      line-height: 1.5;
      color: #cfeee6;
      background: rgba(255,255,255,0.03);
      border: 1px dashed rgba(116,242,206,0.35);
      border-radius: 8px;
      padding: 10px 12px;
    }

    /* Painel de detalhes do n√≥ */
    #nodeDetails {
      display: none;
      max-width: 900px;
      margin: 14px auto 40px;
      background: rgba(255,255,255,0.03);
      border-left: 3px solid #74f2ce;
      color: #e7f9f2;
      padding: 18px;
      border-radius: 8px;
      text-align: left;
    }

    #nodeDetails h3 { margin-top: 0; color: #74f2ce; }
    #nodeDetails .close-btn {
      display: inline-block;
      margin-top: 10px;
      background: transparent;
      color: #74f2ce;
      border: 1px solid rgba(116,242,206,0.2);
      padding: 6px 10px;
      border-radius: 8px;
      cursor: pointer;
    }

    /* Responsividade */
    @media (max-width: 600px) {
      h1 { font-size: 2em; padding-top: 10px; }
      .tech-card { min-width: 100%; }
      #network { height: 320px; } /* um pouco menor no mobile */
    }
  </style>

  <!-- vis-network -->
  <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
</head>
<body>

  <div class="top-bar">
    <a href="nuvem_bio.html">‚¨ÖÔ∏è Voltar para Nuvem BIO</a>
  </div>

  <h1>Infraestrutura Digital</h1>

  <div class="content">
    <p>
      A <strong>Infraestrutura Digital</strong> da BIOCERR √© a espinha dorsal invis√≠vel que conecta dados, processos e territ√≥rios de forma integrada e regenerativa. Ela vai al√©m da tecnologia por si s√≥ ‚Äî √© um ecossistema de suporte t√©cnico, √©tico e territorial, que permite √† rede BIO operar com transpar√™ncia, intelig√™ncia e corresponsabilidade.
    </p>

    <p>
      Ao inv√©s de plataformas centralizadas, utilizamos arquiteturas distribu√≠das, interoper√°veis e de c√≥digo aberto. Isso garante autonomia local, soberania dos dados e participa√ß√£o ativa das comunidades envolvidas. Cada n√≥ da rede contribui e se beneficia, fortalecendo a resili√™ncia coletiva.
    </p>

    <p>
      A infraestrutura inclui m√≥dulos de rastreabilidade, gest√£o de indicadores regenerativos, acompanhamento em tempo real e integra√ß√£o com sistemas p√∫blicos e comunit√°rios. Tudo √© pensado para ser modular, adapt√°vel e em constante evolu√ß√£o.
    </p>

    <p>
      A intelig√™ncia artificial <strong>BIO</strong> atua como mediadora dessas intera√ß√µes digitais, traduzindo complexidade em clareza, sugerindo caminhos, alertando sobre desequil√≠brios e apoiando decis√µes informadas com base nos princ√≠pios da regenera√ß√£o.
    </p>

    <p>
      Investir em infraestrutura digital √© garantir que a regenera√ß√£o aconte√ßa com consist√™ncia, monitoramento e alinhamento entre pessoas, territ√≥rios e tecnologias. √â o alicerce para um novo ciclo de cuidado planet√°rio.
    </p>

    <div class="image-container">
      <img src="infraestrutura_digital.png" alt="Ilustra√ß√£o de Infraestrutura Digital">
    </div>
  </div>

  <div class="tech-modules">
    <div class="tech-card" onclick="toggleBox('blockchain')">üß± Blockchain</div>
    <div id="blockchain" class="box-hidden">
      <p><strong>BIOBlock:</strong> BIOBlock √© o m√≥dulo de conten√ß√£o digital descentralizada da BIOCERR. Sua fun√ß√£o √© proteger os fluxos de informa√ß√£o e os dispositivos inteligentes, tanto dentro das MCEFPs quanto em seu entorno territorial. Inspirado nos princ√≠pios da soberania tecnol√≥gica e da transpar√™ncia distribu√≠da, o BIOBlock utiliza tecnologia blockchain para autenticar, registrar e proteger todas as intera√ß√µes digitais cr√≠ticas, como:</p>

      <ul>
        <li>Abertura e fechamento de v√°lvulas</li>
        <li>Envasamento e rastreabilidade de lotes</li>
        <li>Sincroniza√ß√£o com sensores locais e remotos (IoT)</li>
        <li>Alertas de seguran√ßa e integridade da rede</li>
      </ul>

      <p>Este m√≥dulo ser√° opcional, configur√°vel e compat√≠vel com legisla√ß√µes locais de privacidade e interoperabilidade.</p>
    </div>

    <div class="tech-card" onclick="toggleBox('bigdata')">üìä Big Data</div>
    <div id="bigdata" class="box-hidden">
      <p><strong>Fluxo Vivo:</strong> O m√≥dulo de Big Data da BIOCERR transforma volumes massivos de informa√ß√µes em intelig√™ncia regenerativa. Ele coleta, organiza e interpreta dados provenientes de diversas fontes ‚Äî desde sensores nas MCEFPs, at√© sistemas p√∫blicos, bases clim√°ticas, indicadores comunit√°rios e intera√ß√µes em tempo real com usu√°rios.</p>
    </div>

    <div class="tech-card" onclick="toggleBox('iot')">üåê IoT</div>
    <div id="iot" class="box-hidden">
      <p><strong>Rede BIO-IoT:</strong> Na BIOCERR, a Internet das Coisas (IoT) √© muito mais do que conectar objetos ‚Äî √© uma forma de dar sensibilidade ao territ√≥rio. Cada MCEFP funciona como um organismo vivo, equipado com sensores e dispositivos que monitoram vari√°veis em tempo real: temperatura, fluxo de envase, uso de √°gua, n√≠vel dos reservat√≥rios, qualidade do ar, consumo de energia e at√© padr√µes de intera√ß√£o humana.</p>
    </div>

    <!-- === G√äMEOS DIGITAIS (AQUI VAI O GR√ÅFICO) === -->
    <div class="tech-card" onclick="toggleBox('gemeos')">üßø G√™meos Digitais</div>
    <div id="gemeos" class="box-hidden">
      <p><strong>Simuladores Regenerativos:</strong> Na BIOCERR, os G√™meos Digitais n√£o s√£o apenas c√≥pias virtuais de equipamentos ou processos ‚Äî eles s√£o espelhos vivos de territ√≥rios regenerativos. Cada MCEFP e Ind√∫stria Matriz pode ter sua vers√£o digital que simula, antecipa e aprende com o comportamento real dos sistemas f√≠sicos.</p>

      <p>Isso significa que conseguimos prever falhas, otimizar rotas, adaptar produ√ß√µes e at√© testar decis√µes complexas sem causar impacto real. √â como se a pr√≥pria f√°brica pudesse sonhar antes de agir.</p>

      <p>Os G√™meos Digitais da BIOCERR tamb√©m integram dados ambientais, sociais e operacionais em tempo real. Assim, conseguimos entender como as decis√µes locais afetam o entorno, a biodiversidade, os fluxos de log√≠stica e o bem-estar das comunidades.</p>

      <p>Mais do que automa√ß√£o, os G√™meos Digitais permitem governan√ßa antecipat√≥ria, ou seja, decis√µes baseadas em simula√ß√µes, com participa√ß√£o humana e intelig√™ncia artificial trabalhando em conjunto para o bem coletivo.</p>

      <p>Na vis√£o BIOCERR, um G√™meo Digital √© uma mem√≥ria sens√≠vel e projetiva da rela√ß√£o entre tecnologia, natureza e cuidado.</p>

      <!-- === Container do gr√°fico interativo (vis-network) === -->
      <div class="graph-wrapper" aria-label="Gr√°fico interativo dos g√™meos">
        <div id="network"></div>

        <!-- instru√ß√µes rec√©m adicionadas -->
        <div id="graphInstructions" class="graph-instructions">
          üí° <strong>Como interagir com o gr√°fico:</strong><br>
          ‚Ä¢ Role o mouse (ou pin√ßa no touch) para dar zoom.<br>
          ‚Ä¢ Clique no bot√£o para ver conte√∫do.<br>
          ‚Ä¢ Clique e arraste o fundo para mover o quadro.<br>
          ‚Ä¢ Clique e arraste um bot√£o para reposicion√°-lo; as setas acompanham.<br>
          ‚Ä¢ D√™ <em>duplo clique</em> em qualquer √°rea vazia para recentralizar a vis√£o.
        </div>

        <div id="nodeDetails" role="region" aria-live="polite"></div>
  </div>

  <!-- === BOT√ÉO ACESSE O G√äMEOS DIGITAIS === -->
  <div style="text-align: center; margin: 20px 0;">
    <a href="G√™meos_Digitais_da_BIO.html"
       style="padding: 12px 25px; font-size: 1.1em; border-radius: 25px; text-decoration: none; 
              color: white; background: #74f2ce; display: inline-block; transition: 0.3s;">
      Acesse o G√™meos Digitais
    </a>
  </div>
</div>

    <div class="tech-card" onclick="toggleBox('ciber')">üõ°Ô∏è Ciberseguran√ßa</div>
    <div id="ciber" class="box-hidden">
      <p><strong>Escudo BIO:</strong> A Ciberseguran√ßa na BIOCERR n√£o √© um escudo isolado, mas sim uma camada viva de prote√ß√£o √©tica, regenerativa e coletiva. Em um ecossistema distribu√≠do como o nosso, onde m√∫ltiplas MCEFPs, territ√≥rios e usu√°rios se conectam, proteger os dados, os fluxos e as decis√µes √© essencial para garantir confian√ßa, soberania e continuidade.</p>
    </div>
  </div>

  <div class="mist"></div>

  <!-- ===== Scripts ===== -->
  <script>
    /* Fun√ß√£o original de abrir/fechar m√≥dulos ‚Äî mantida */
    let didFitOnce = false;

    function toggleBox(id) {
      const box = document.getElementById(id);
      box.style.display = box.style.display === "block" ? "none" : "block";

      if (id === 'gemeos') {
        // garantir que o gr√°fico se ajuste quando a se√ß√£o abre
        setTimeout(() => {
          if (window.network) {
            window.network.redraw();
            if (!didFitOnce) {
              window.network.fit({ animation: { duration: 600, easing: 'easeInOutQuad' } });
              didFitOnce = true;
            }
          }
        }, 300);
      }
    }
  </script>

  <script>
    /* --- Inicializa√ß√£o do vis-network (mantida para preservar o layout) --- */

    // Dados dos n√≥s (iguais ao seu)
    const nodes = new vis.DataSet([
      { id: 1, label: "Nuvem BIOCERR", shape: "box", color: { background: '#083e36', border: '#74f2ce' }, font: { color: 'white' } },
      { id: 2, label: "Ind√∫stria Matriz", shape: "box", color: { background: '#063a6b', border: '#74f2ce' }, font: { color: 'white' } },
      { id: 3, label: "MCEFPs", shape: "box", color: { background: '#4f2b63', border: '#74f2ce' }, font: { color: 'white' } },
      { id: 4, label: "Operadores", shape: "ellipse", color: { background: '#b36100', border: '#ffd9b3' }, font: { color: 'white' } },
      { id: 5, label: "Mercado Final", shape: "ellipse", color: { background: '#8b053a', border: '#ffb3c9' }, font: { color: 'white' } },
      { id: 6, label: "Governan√ßa BIO", shape: "box", color: { background: '#2b3a3f', border: '#9fbdb6' }, font: { color: 'white' } },
      { id: 7, label: "IA BIO", shape: "box", color: { background: '#145a2f', border: '#74f2ce' }, font: { color: 'white' } }
    ]);

    // Conex√µes entre n√≥s (iguais ao seu)
    const edges = new vis.DataSet([
      { from: 1, to: 2, arrows: "to", color: { color: '#74f2ce' } },
      { from: 1, to: 6, arrows: "to", color: { color: '#74f2ce' } },
      { from: 6, to: 7, arrows: "to", color: { color: '#74f2ce' } },
      { from: 2, to: 3, arrows: "to", color: { color: '#74f2ce' } },
      { from: 3, to: 4, arrows: "to", color: { color: '#ffd28f' } },
      { from: 4, to: 5, arrows: "to", color: { color: '#ff9fb3' } },
      { from: 7, to: 3, arrows: "to", color: { color: '#74f2ce' } },
      { from: 7, to: 2, arrows: "to", color: { color: '#74f2ce' } }
    ]);

    // Op√ß√µes do visual (iguais ao seu)
    const options = {
      physics: {
        enabled: true,
        barnesHut: {
          gravitationalConstant: -8000,
          centralGravity: 0.2,
          springLength: 200,
          springConstant: 0.04
        },
        stabilization: { enabled: true, iterations: 200 }
      },
      interaction: {
        hover: true,
        dragNodes: true,
        zoomView: true,
        tooltipDelay: 100
      },
      nodes: {
        borderWidth: 2,
        shadow: true,
        font: { size: 14 }
      },
      edges: {
        arrows: { to: { enabled: true, scaleFactor: 1.2 } },
        smooth: { enabled: true, type: 'dynamic' }
      },
      layout: {
        improvedLayout: true
      }
    };

    // Inicializa a rede (mantendo seu fluxo)
    const container = document.getElementById('network');
    const data = { nodes: nodes, edges: edges };
    const network = new vis.Network(container, data, options);
    window.network = network; // expor globalmente para redraw se precisar

    // Duplo clique para recentrar sempre que quiser
    network.on('doubleClick', function () {
      network.fit({ animation: { duration: 400, easing: 'easeInOutQuad' } });
    });

    // Conte√∫dos r√°pidos para exibir ao clicar (iguais ao seu)
    const details = {
      1: {
        title: "Nuvem BIOCERR",
        text: "Camada de coordena√ß√£o e servi√ßos: broker MQTT, armazenamento timeseries, APIs e orquestra√ß√£o dos g√™meos. Hospeda modelos, dashboards e integra√ß√µes externas."
      },
      2: {
        title: "Ind√∫stria Matriz",
        text: "Produz os concentrados-base em IBCs, gerencia controle de qualidade, rotinas de expedi√ß√£o e integra√ß√£o com sistemas corporativos (ERP/MES). Fonte prim√°ria de dados e rastreabilidade."
      },
      3: {
        title: "MCEFPs",
        text: "Mini Centrais Envasadoras e Finalizadoras: unidades locais que personalizam lotes, operam com sensoriamento e replicam o DNA do SMPD no territ√≥rio."
      },
      4: {
        title: "Operadores",
        text: "Usu√°rios locais que interagem com interfaces simples: execu√ß√£o por lote, checks de QC, manuten√ß√£o local e comunica√ß√£o com a BIO (via painel ou app)."
      },
      5: {
        title: "Mercado Final",
        text: "Pontos de venda, hospitais e consumidores finais que recebem produtos personalizados; enviam feedback e dados de demanda que alimentam o g√™meo."
      },
      6: {
        title: "Governan√ßa BIO",
        text: "Conselho que valida pol√≠ticas, limita√ß√µes √©ticas e aprova altera√ß√µes estrat√©gicas. Atua em fluxo HITL (human-in-the-loop) para decis√µes cr√≠ticas."
      },
      7: {
        title: "IA BIO",
        text: "M√≥dulo de intelig√™ncia que processa dados, gera previs√µes (manuten√ß√£o, demanda), simula cen√°rios e sugere otimiza√ß√µes para opera√ß√£o e impacto socioambiental."
      }
    };

    // Fun√ß√£o para mostrar detalhes (mantida)
    function showNodeDetails(id) {
      const panel = document.getElementById('nodeDetails');
      const d = details[id];
      if (!d) return;
      panel.innerHTML = `
        <h3>${d.title}</h3>
        <p>${d.text}</p>
        <button class="close-btn" onclick="closeDetails()">Fechar</button>
      `;
      panel.style.display = 'block';
      // scroll suave para o painel
      panel.scrollIntoView({behavior: "smooth", block: "center"});
    }

    function closeDetails() {
      const panel = document.getElementById('nodeDetails');
      panel.style.display = 'none';
      panel.innerHTML = '';
    }

    // Evento ao clicar em um n√≥ (mantido)
    network.on("click", function (params) {
      if (params.nodes.length > 0) {
        const nodeId = params.nodes[0];
        showNodeDetails(nodeId);
      }
    });

    // Redraw quando a aba voltar a ficar vis√≠vel (mantido)
    document.addEventListener("visibilitychange", function() {
      if(!document.hidden && window.network) {
        network.redraw();
      }
    });
  </script>
</body>
</html>
